# Тест справедливости алгоритма

## Проблема
Пользователь заметил, что билеты с меньшими номерами выигрывают чаще, чем билеты с большими номерами.

## Анализ алгоритма

### Как работает алгоритм:

1. **Вычисление Score**:
   ```python
   score = SHA256(seed_bytes + b":" + ticket_number.encode('utf-8'))
   score_int = int.from_bytes(hash_result, 'big')
   ```

2. **Выбор победителя**:
   ```python
   winner = ticket_with_minimum_score
   ```

### Математическая корректность:

- SHA256 дает **равномерное распределение** независимо от входных данных
- Преобразование в `int` с `big-endian` сохраняет равномерность
- Сравнение больших целых чисел в Python корректно

### Возможные причины проблемы:

1. **Статистическая флуктуация**: При небольшом количестве розыгрышей возможны отклонения от равномерного распределения
2. **Использование одинаковых блоков**: Если розыгрыши происходят быстро, могут использоваться одни и те же блоки Bitcoin
3. **Визуальное восприятие**: Человеческий мозг склонен видеть паттерны там, где их нет

## Рекомендации:

1. Проводить больше розыгрышей для статистической значимости
2. Убедиться, что используются разные блоки Bitcoin для каждого розыгрыша
3. Добавить логирование статистики побед для анализа

## Вывод:

Алгоритм математически корректен. SHA256 гарантирует равномерное распределение score независимо от номера билета. Если наблюдается предвзятость, это скорее всего статистическая флуктуация или использование одинаковых seed.

